(()=>{"use strict";class t{constructor(){this.form=document.getElementById("registerForm"),this.form&&(this.error=document.querySelector(".register__error"),this.form.addEventListener("submit",t=>{t.preventDefault();const e=new FormData(this.form);this.checkForm(e)&&this.form.submit()}))}checkForm(t){let e=!0;return this.error.innerHTML="",t.get("name").length<3?(this.displayError("Имя подлиннее пожалста. "),this.inputError("name"),e=!1):this.inputOk("name"),/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.get("email"))?this.inputOk("email"):(this.displayError("С почтой что-то не так. "),this.inputError("email"),e=!1),/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/.test(t.get("password"))?this.inputOk("password"):(this.displayError("Пароль посложнее чуть чуть, добавь цифер/буков. "),this.inputError("password"),e=!1),t.get("password")!=t.get("password_ok")?(this.displayError("Пароли не совпадают. "),this.inputError("password_ok"),e=!1):this.inputOk("password_ok"),e}displayError(t){this.error.innerHTML=this.error.innerText+"<br>"+t}inputError(t){document.getElementById(t).classList.add("input--error")}inputOk(t){document.getElementById(t).classList.remove("input--error")}}class e{constructor(){this.editor=document.getElementById("profilePictureEditor"),this.editor&&(this.avatars=document.getElementById("availableAvatars"),this.images=this.avatars.querySelectorAll(".profile__image"),this.input=document.getElementById("avatarId"),this.editor.addEventListener("click",t=>{this.avatars.style.display="flex",this.editor.style.display="none"}),this.images.forEach(t=>{t.addEventListener("click",e=>{const r=this.editor.querySelector("img"),s=t.querySelector("img");this.input.value=s.dataset.id,r.src=s.src,this.avatars.style.display="none",this.editor.style.display="block"})}))}}document.addEventListener("DOMContentLoaded",()=>{new t,new e})})();